document.addEventListener("DOMContentLoaded",function(){const l=document.querySelectorAll(".fullscreen-section"),r=document.querySelectorAll(".nav-dot"),a=document.getElementById("mainHeader"),d={threshold:.1},f=new IntersectionObserver(function(e){e.forEach(t=>{if(t.isIntersecting){const s=t.target.querySelector(".section-content");s&&s.classList.add("visible"),t.target.querySelectorAll(".btn").forEach(c=>{c.classList.contains("visible")||c.classList.add("visible")});const o=t.target.querySelector(".section-bg");o&&!o.classList.contains("zoomed")&&o.classList.add("zoomed"),t.target.querySelectorAll(".benefit-card, .contact-form").forEach(c=>{c.classList.contains("visible")||c.classList.add("visible")});const u=t.target.id;r.forEach(c=>{c.classList.toggle("active",c.dataset.section===u)})}})},d);l.forEach(e=>{f.observe(e)}),r.forEach(e=>{e.addEventListener("click",function(){const t=this.dataset.section,s=document.getElementById(t);s&&window.scrollTo({top:s.offsetTop,behavior:"smooth"})})}),window.addEventListener("scroll",function(){window.scrollY>50?a.classList.add("scrolled"):a.classList.remove("scrolled")}),document.getElementById("partnerForm").addEventListener("submit",function(e){e.preventDefault();const t=new FormData(this),s={};t.forEach((i,o)=>s[o]=i),console.log("Form submitted:",s),alert("Спасибо за вашу заявку! Наш менеджер свяжется с вами в ближайшее время."),this.reset(),window.scrollTo({top:0,behavior:"smooth"})});const n=document.querySelector(".fullscreen-section");if(n){const e=n.querySelector(".section-content");e&&e.classList.add("visible");const t=n.querySelector(".section-bg");t&&t.classList.add("zoomed"),n.querySelectorAll(".btn").forEach(o=>o.classList.add("visible")),n.querySelectorAll(".benefit-card, .contact-form").forEach(o=>o.classList.add("visible"))}});
